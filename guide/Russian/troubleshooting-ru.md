<img align="right" src="https://github.com/n00b69/woa-op7/blob/main/op7.png" width="350" alt="Windows 11 running on hotdog/guacamole">

# Запуск Windows на OnePlus 7 Pro / 7T Pro

## Устранение неполадок
> Ниже вы найдете список распространенных проблем и их решений

## Режим Mass storage не работает
> Это может произойти редко и зависит от установленной версии OOS.
- Загрузите Renegade UEFI [`guacamole`](https://github.com/n00b69/woa-op7/releases/download/Files/renegade-guacamole.img) или [`hotdog`](https://github.com/n00b69/woa-op7/releases/download/Files/renegade-hotdog.img) 
- Перезагрузитесь в режим fastboot, используя команду `adb reboot bootloader`.
> Замените `путь\к\renegade-DEVICENAME.img` на фактический путь к образу UEFI.
```cmd
fastboot boot путь\к\renegade-DEVICENAME.img
```
> После загрузки в UEFI используйте кнопки регулировки громкости для навигации по меню и кнопку питания для подтверждения
- Выберите **UEFI Boot Menu**.
- Выберите **USB Attached SCSI (UAS) Storage**.
- Для подтверждения дважды нажмите кнопку **питания** .

Теперь вернитесь к [разделу Diskpart](3-install-ru.md#Diskpart) 

> [!Important]
> Не используйте образ **Renegade UEFI** для попытки загрузить Windows позже!
>
> Вместо него используйте обновлённый образ UEFI, предовставленный по ссылке в гайде

##### Готово!

## LTE и другие сетевые службы на Android больше не работают
> Иногда Windows может стереть разделы модема, что приводит к потере LTE на Android. Чтобы исправить это, вам потребуется восстановить модем, используя резервные копии, которые вы, как вы надеетесь, сделали [при разметке устройства](1-partition-ru.md#Резервное-копирование-важных-разделов). Если вы не выполнили этот шаг, восстановить LTE, скорее всего, не получится.
- Загрузитесь в любое recovery, кроме стандартного (команды ADB там не работают)
- Откройте CMD в папке **platform-tools** 
- Восстановите четыре раздела, резервные копии которых вы создали, используя команды ниже. Замените `путь\к` на фактический путь к образам.
```cmd
adb push путь\к\fsc.bin /cache/ & adb shell dd if=/cache/fsc.bin of=/dev/block/by-name/fsc
```

```cmd
adb push путь\к\fsg.bin /cache/ & adb shell dd if=/cache/fsg.bin of=/dev/block/by-name/fsg
```

```cmd
adb push путь\к\modemst1.bin /cache/ & adb shell dd if=/cache/modemst1.bin of=/dev/block/by-name/modemst1
```

```cmd
adb push путь\к\modemst2.bin /cache/ & adb shell dd if=/cache/modemst2.bin of=/dev/block/by-name/modemst2
```
- Перезагрузите устройство и проверьте, работает ли LTE.
> [!Note]
> Если это не помогло, вам придется выполнить некоторые дополнительные действия;
- Скачайте стандартную прошивку для вашего устройства
- Откройте её, найдите файл **modem.img** и извлеките его.
- Загрузитесь в режим fastboot (`adb reboot bootloader`).
- Прошейте этот **modem.img** с помощью следующей команды, заменив `путь\к\modem.img` на фактический путь к образу
```cmd
fastboot flash modem путь\к\modem.img
```

##### Готово!

## LTE в Windows не работает
- Прошейте [modemprov.zip](https://github.com/n00b69/woa-op7/releases/download/Files/modemprov.zip) в любом рекавери и загрузитесь в Windows.

> [!Note]
> Возможно, вам сначала придется выполнить действия, описанные в разделе «LTE и другие сетевые службы на Android больше не работают», чтобы восстановить работу модема
- На Android найдите настройки APN. Они находятся в разделе `Connections` > `Mobile Networks` > `Access Point Names`.
- Запишите информацию о текущих настройках APN, затем загрузитесь в Windows.
- В `Cellular Settings`, нажмите на `Mobile operator settings` > `APN settings` и добавьте настройки APN, которые вы записали ранее.
- Включите **Сотовую связь**. Возможно там написано `No Internet Access`, но это всё равно должно работать. 

##### Готово!

## Невозможно смонтировать Windows в Android
Если при монтировании Windows создается пустая папка, то либо у вас не установлена Windows, либо в вашей прошивке нет поддержки монтирования.

##### Готово!

## Невозможно записать в Windows на Android
> Это вызвано завершением работы Windows вместо её перезагрузки.
- Чтобы решить эту проблему, загрузитесь в Windows и нажмите "Перезагрузка" в меню "Пуск", затем, когда экран погаснет, загрузите TWRP и оттуда загрузите Android.
- Или отключите режим гибернации в Windows 
> Либо, если вы уже настроили приложение Switch to Android, просто используйте его для перехода на Android.
##### Готово!

## USB не работает
Переключите USB в режим `HOST` с помощью дополнительного [руководства после установки](materials-ru.md#переключение-режима-USB).

##### Готово!

## Я хочу использовать Windows используя OOS12
> Вам нужно будет выполнить несколько дополнительных шагов, иначе система может не загрузиться и / или она будет _сломана_.

#### Если вы используете WOA Helper
- Если вы первый раз загружаете Windows, используйте **DEVCFG FLASHER** в разделе **WOA TOOLBOX** в WOA Helper. Это прошьёт OOS11 devcfg и скопирует в Windows файлы необходимые для загрузки обратно в Android.
- Если монтирование не раюотает, вам придётся вручную скопировать **sdd.exe** и **sdd.conf** в Windows.
- Включите **Flash OOS11 devcfg when quickbooting** в меню **PREFERENCES** в WOA Helper, теперь вы можете использовать кнопку **QUICKBOOT TO WINDOWS**.
- Запускайте **sdd.exe** каждый раз перед запуском ярлыка **Switch to Android** когда перезагружаетесь в Android, или отредактируйте файл **sdd.conf** соответсвенно чтобы он также прошивал boot.img. Вы можете найти инструкцию о том как это сделать в самом файле **sdd.conf**.

#### Если вы используете Dualboot Kernel Patcher
- Используйте **DEVCFG FLASHER** в разделе **WOA TOOLBOX** в WOA Helper. Это прошьёт OOS11 devcfg и скопирует в Windows файлы необходимые для загрузки обратно в Android.
- Если монтирование не раюотает, вам придётся вручную скопировать **sdd.exe** и **sdd.conf** в Windows (это необходимо только один раз, и впоследствии может быть проигнорировано).
- Запускайте **sdd.exe** каждый раз перед перезагрузкой в Android.

##### Готово!

## Error: 3 Система не может найти указанный путь.
Эта ошибка обычно означает, что вы пытаетесь установить Windows на диск, на котором уже установлена ​​Windows. Чтобы решить эту проблему, отформатируйте диск в проводнике Windows и повторите попытку.

##### Готово!

## 0xc000021a BSOD
Обычно это означает, что winlogon.exe дал сбой, и вам, возможно, придется повторно применить образ Windows.

##### Готово!

## Компьютер неожиданно перезагрузился или возникла непредвиденная ошибка
Если вы столкнулись с этой ошибкой, вам придется [переустановить Windows](reinstall-ru.md) :(.

##### Готово!

## INACCESSIBLE_BOOT_DEVICE BSOD
Этот синий экран смерти, вероятно, означает, что какой-то драйвер установлен неправильно. Чтобы исправить это, [переустановите Windows](reinstall-ru.md).

##### Готово!



















